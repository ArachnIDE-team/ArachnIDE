<!DOCTYPE HTML>
<html>

<head>
    <title>ChrysalIDE</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="./styles_v1.css">
    <meta charset="UTF-8">

    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.9.179/build/pdf.min.js"></script>

    <!-- Core -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/lib/codemirror.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5/lib/codemirror.css">

    <!-- Add-Ons -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/scroll/simplescrollbars.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/mode/overlay.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/mode/loadmode.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/runmode/runmode.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/hint/show-hint.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/addon/hint/anyword-hint.js"></script>

    <!-- Modes -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/mode/meta.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.3/mode/htmlmixed/htmlmixed.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/mode/xml/xml.js"></script> <!-- for HTML -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/mode/javascript/javascript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/mode/css/css.js"></script> <!-- for CSS -->
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5/mode/python/python.js"></script> <!-- for Python -->
    <!--Themes-->
    <!-- Custom Scrollbars -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5/addon/scroll/simplescrollbars.css">
    <!-- show-hint-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5/addon/hint/show-hint.css">

    <!--Prism.js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.3/purify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>-->
    <!-- Pyodide -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.23.0/full/pyodide.js"></script>

</head>

<body id="body">

    <div ondragover="dragOverHandler(event);" ondrop="dropHandler(event);">
        <svg id="svg_bg" viewBox="-128 -128 256 256" width="100%" height="100vh" top="0" left="0" position="fixed">
            <g id="viewmatrix">
                <g id="bg" />
                <path id="mousePath" d="" fill="none" stroke="rgb(50 51 62 / 80%)" stroke-width="0.01" />
                <g id="edges" />
            </g>
        </svg>
    </div>


    <svg id="debug_layer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" style="position: absolute; left:0px; top:0px; display:none; visibility:hidden; width: 100%; height: 100vh;">
        <style type="text/css">
            .white {
                font: 12px sans-serif;
                fill: white;
            }
        </style>
        <text x="0" y="0" class="white">fps:</text>
    </svg>



    <div class="dropdown" id="dropdowndiv">
        <div class="menu-button">
            <div class="menu-icon" id="menu-icon"></div>
        </div>

        <div class="node-panel">
            <div class="icon-row">
                <div class="icon-content">
                    <div class="panel-icon edges-icon" title="Freeze and Connect Nodes (Hold Shift)">
                        <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" style="transform: translateX(-1px);" aria-hidden="true">
                            <use xlink:href="#edges-icon-symbol"></use>
                        </svg>
                    </div>
                </div>
                <div class="icon-content">
                    <div class="panel-icon note-icon" title="Create Note (Shift + Double Click)">
                        <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" aria-hidden="true">
                            <use xlink:href="#note-icon-symbol"></use>
                        </svg>
                    </div>
                </div>
                <div class="icon-content">
                    <div class="panel-icon ai-icon" title="Ai Note (ALT/Option + Double Click)">
                        <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" aria-hidden="true">
                            <use xlink:href="#ai-icon-symbol"></use>
                        </svg>
                    </div>
                </div>
                <div class="icon-content">
                    <div class="panel-icon link-icon" title="Display Link">
                        <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" aria-hidden="true">
                            <use xlink:href="#link-icon-symbol"></use>
                        </svg>
                    </div>
                </div>
                <div class="icon-content">
                    <div class="panel-icon code-icon" title="Create Code Editor (Shift + ALT/Option + Double Click)">
                        <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" aria-hidden="true">
                            <use xlink:href="#code-icon-symbol"></use>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- New container for the function call panel and its toggle button -->
            <div class="function-call-container">

                <!-- Sub-dropdown for function calls -->
                <div class="function-call-panel hidden">
                    <!-- Function call list -->
                    <div class="function-call-list custom-scrollbar">
                        <!-- Function call items will be added here dynamically -->
                    </div>

                    <!-- Function prompt wrapper -->
                    <div class="function-prompt-wrapper">
                        <!-- Function prompt input -->
                        <div style="display: flex;">
                            <!-- Run function button -->
                            <button id="function-run-button" class="function-button">
                                <svg width="18" height="18">
                                    <use xlink:href="#function-button"></use>
                                </svg>
                            </button>



                            <div class="input-group" style="display: flex; position: relative; width: 60%;">
                                <textarea id="function-prompt" class="custom-scrollbar function-prompt-textarea" rows="1" oninput="autoGrow(event);" placeholder="Set Task..." required></textarea>

                                <div class="status-icons-container" style="position: absolute; right: 42px; top: 50%; transform: translateY(-50%);">
                                    <!-- Status icons here -->
                                    <div class="loader" id="functionLoadingIcon" style="display:none;"></div>

                                    <div class="error-icon-css" id="functionErrorIcon" style="display:none;">
                                        <div class="error-x-mark">
                                            <span class="error-x-mark-left"></span>
                                            <span class="error-x-mark-right"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <button id="function-send-button" class="function-button">
                                <svg width="18" height="18" class="function-send-svg">
                                    <use xlink:href="#play-icon"></use>
                                </svg>
                            </button>

                            <!-- Regenerate button -->
                            <button id="function-regen-button" class="function-button">
                                <svg width="18" height="18">
                                    <use xlink:href="#refresh-icon"></use>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- CodeMirror container -->
                    <div class="function-codemirror-container">
                        <textarea id="chrysalide-function-cm"></textarea>
                    </div>
                </div>
                <!-- Toggle button for function call panel -->
                <div class="toggle-function-panel" onclick="toggleFunctionCallPanel()">
                    <div class="bar left-bar"></div>
                    <div class="icon-wrapper">
                        <!-- Wrapper for the icon only -->
                        <div class="toggle-icon">
                            <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" />
                            </svg>
                        </div>
                    </div>
                    <div class="bar right-bar"></div>
                </div>
            </div>
        </div>

        <div class="dropdown-content">
            <div style="display: none;" id="search-results">
                <div class="submenu custom-scrollbar">

                </div>
            </div>
            <div>
                <div class="tabs">
                    <button class="tablink" onclick="openTab('tab1', this)">Notes</button>
                    <button class="tablink" onclick="openTab('tab4', this)">Ai</button>
                    <button class="tablink" onclick="openTab('tabExtract', this)">Data</button>
                    <button class="tablink" onclick="openTab('tab2', this)">Edit</button>
                    <button class="tablink" onclick="openTab('tab6', this)">Save</button>
                    <button class="tablink" onclick="openTab('tab3', this)">?</button>
                </div>

                <div id="tab1" class="tabcontent">
                    <!-- First tab content here -->
                    <div class="submenu">
                        <div style="display: flex; align-items: center; margin-bottom: 10px;">
                            <!-- Added margin for spacing -->
                            <input id="Searchbar" class="Searchbar" placeholder="search notes..." onkeydown="if(event.key === 'Enter') event.preventDefault();" />
                        </div>
                        <form id="prompt-form" onsubmit="sendMessage(event);">
                            <div>
                                <!-- Second Row: Prompt Form -->
                                <div style="display: flex;">
                                    <!-- Input Group with flex layout and relative positioning -->
                                    <div class="input-group" style="display: flex; position: relative; width: 208px;">
                                        <!-- Textarea for main prompt -->
                                        <textarea id="prompt" class="custom-scrollbar" rows="1" oninput="autoGrow(event);" placeholder="Enter prompt..." required></textarea>

                                        <!-- Status icons positioned similarly to function prompt -->
                                        <div class="status-icons-container" style="position: absolute; right: 42px; top: 50%; transform: translateY(-50%);">
                                            <!-- Status icons (Loader and Error) -->
                                            <div class="loader" id="aiLoadingIcon" style="display:none;"></div>
                                            <div class="error-icon-css" id="aiErrorIcon" style="display:none;">
                                                <div class="error-x-mark">
                                                    <span class="error-x-mark-left"></span>
                                                    <span class="error-x-mark-right"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Run button (Play icon) -->
                                    <button type="submit">
                                        <svg width="18" height="18">
                                            <use xlink:href="#play-icon"></use>
                                        </svg>
                                    </button>

                                    <!-- Regenerate button (Refresh icon) -->
                                    <button id="regen-button" type="button">
                                        <svg width="18" height="18">
                                            <use xlink:href="#refresh-icon"></use>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </form>
                        <br />
                        <div class="zet-container" title="Zettelkasten">
                            <div id="zetHorizDragHandle" class="zet-drag-handle-horiz"></div>
                            <div id="zetVertDragHandle" class="zet-drag-handle-vert"></div>
                            <textarea id="note-input" class="zettelkasten" rows="10" cols="50"></textarea>
                        </div>

                        <div class="checkboxarray">
                            <div title="Enable Web Search Results">
                                <input type="checkbox" id="google-search-checkbox" name="enable-search">
                                <label for="google-search-checkbox">Search</label>

                            </div>
                            <div title="Enable Code Instructions and Buttons">
                                <input type="checkbox" id="code-checkbox" name="code-checkbox">
                                <label for="code-checkbox">Code</label>
                            </div>
                            <div title="Self-Prompted AI">
                                <input type="checkbox" id="auto-mode-checkbox">
                                <label for="auto-mode-checkbox">Auto</label>
                            </div>
                            <div title="Retrieve Document Snippets and send to AI">
                                <input type="checkbox" id="embed-checkbox">
                                <label for="embed-checkbox">Data</label>
                            </div>
                            <div title="Query Wolfram Alpha">
                                <input type="checkbox" id="enable-wolfram-alpha" name="enable-wolfram-alpha">
                                <label for="enable-wolfram-alpha">Wolfram</label>
                            </div>
                            <div title="Query Wikipedia">
                                <input type="checkbox" id="wiki-checkbox">
                                <label for="wiki-checkbox">Wiki</label>


                            </div>
                        </div>
                    </div>
                </div>
                <div id="tab4" class="tabcontent">
                    <!-- Fourth tab content here -->
                    <div class="submenu">
                        <!--<div>
                    <button id="ai-cursor-button">Enable Ai Cursor</button>
                </div>-->
                        <br />
                        <div class="flex-container">
                            <div class="inline-container" title="Enable Local Ai Features">
                                <input type="checkbox" id="localLLM">
                                <label for="localLLM">:</label>
                            </div>
                            <button id="downloadAiButton" class="key-button" title="Install Local AI Models into Browser Cache">INSTALL</button>
                            <div class="inline-container" title="Select Local Model">
                                <select id="LocalLLMselect" class="model-dropdown custom-select">
                                    <option value="RedPajama-INCITE-Chat-3B-v1-q4f32_0" selected>Red Pajama 3B f32</option>
                                    <option value="vicuna-v1-7b-q4f32_0">Vicuna 7B f32</option>
                                    <option value="Llama-2-7b-chat-hf-q4f32_1">Llama 2 7B f32</option>
                                    <!--<option value="Llama-2-13b-chat-hf-q4f32_1">Llama 2 13B f32</option>-->
                                    <option value="Llama-2-70b-chat-hf-q4f16_1">Llama 2 70B f16</option>
                                    <!-- <option value="WizardCoder-15B-V1.0-q4f32_1">WizardCoder 15B f32</option>-->
                                </select>
                            </div>
                            <div class="inline-container">
                                <div class="loader" id="loadingIcon" style="display:none;"></div>
                            </div>
                            <div class="inline-container">
                                <div class="loader-fillBackground" id="filledLoadingIcon" style="display:none;">
                                    <div class="loader-fill initial-animation"></div>
                                </div>
                            </div>
                            <div class="inline-container">
                                <div id="errorIcon" style="display:none;">
                                    <div class="error-icon-css">
                                        <div class="error-x-mark">
                                            <span class="error-x-mark-left"></span>
                                            <span class="error-x-mark-right"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="api-container">
                            <div class="api-inputs">
                                <div>
                                    <label for="api-key-input">OpenAI API Key:</label>
                                    <input type="password" id="api-key-input">
                                </div>
                                <div class="google-key-input">
                                    <label for="googleApiKey">Google API Key:</label>
                                    <input type="password" id="googleApiKey">
                                </div>
                                <div class="google-key-input">
                                    <label for="googleSearchEngineId">Search Engine ID:</label>
                                    <input type="password" id="googleSearchEngineId">
                                </div>
                                <div class="wolfram-key-input">
                                    <label for="wolframApiKey">Wolfram API Key:</label>
                                    <input type="password" id="wolframApiKey">
                                </div>
                            </div>

                            <div class="api-buttons">
                                <button class="key-button" onclick="saveKeys()">Save Keys</button>
                                <button class="key-button" onclick="clearKeys()">Clear Keys</button>
                                <button class="key-button" id="saveToFileButton" onclick="saveKeysToFile()">Keys .txt</button>
                                <button class="key-button" id="loadFromFileButton" onclick="loadKeysFromFile()">Load Keys</button>
                            </div>
                        </div>
                        <br />
                        <div style="display: flex; justify-content: space-evenly; align-items: center; ">
                            <label for="model-select" style="margin-right: 10px;">Select Model:</label>
                            <div class="dropdown-container">
                                <select id="model-select" class="model-selector custom-select" onchange="checkOtherModel(this)">
                                    <option value="gpt-4">gpt-4</option>
                                    <option value="gpt-3.5-turbo-1106">gpt-3.5-1106</option>
                                    <option value="gpt-4-1106-preview">gpt-4-1106</option>
                                    <option value="gpt-4-0613">gpt-4-0613</option>
                                    <option value="gpt-4-vision-preview">gpt-4-vision</option>
                                    <option value="gpt-3.5-turbo-16k-0613">gpt-3.5-16k-0613</option>
                                    <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
                                    <option value="gpt-3.5-turbo-16k">gpt-3.5-16k</option>
                                    <option value="gpt-3.5-turbo-0613">gpt-3.5-0613</option>
                                    <!-- <option value="other">Other...</option> -->
                                </select>
                                <input id="model-input" class="model-input" style="display: none;" placeholder="Enter model name">
                            </div>
                        </div>
                        <br />
                        <div class="gridLayout">

                            <div class="settingsSlider" title="Set the Token Limit for Calls to GPT">
                                <label for="max-tokens-slider">Max Tokens: <br /><span id="max-tokens-display">2000</span></label>
                                <input type="range" id="max-tokens-slider" name="max-tokens-slider" min="10" max="16000" value="2000" step="1">
                            </div>

                            <div class="settingsSlider" title="Set the Tempurature for Calls to GPT">
                                <label id="model-temperature-label" for="model-temperature">Tempurature:<br /> 0.6</label>
                                <input type="range" id="model-temperature" name="model-temperature" min="0" max="1" step="0.1" value="0.6" onchange="updateLabel()">
                            </div>

                            <div class="settingsSlider" title="Set the Proportion of Tokens Dedicated to AI Memory">
                                <span id="max-context-size-display">2000</span>
                                <input type="range" id="max-context-size-slider" name="max-context-size-slider" min="0" max="2000" value="555" step="1">
                            </div>

                            <div class="settingsSlider" title="Number of Notes Retrieved from ChrysalIDE and Sent to AI">
                                <label id="node-slider-label">Top 3 <br />nodes</label>
                                <input type="range" id="node-count-slider" name="node-count-slider" min="1" max="25" value="3">
                            </div>

                        </div>
                    </div>
                </div>

                <div id="tabExtract" class="tabcontent">
                    <!-- Extract tab content here -->
                    <div class="submenu">
                        <div style="display: flex; justify-content: space-evenly; align-items: center;">
                            <label for="embeddingsModelSelect">Embeddings:</label><br>
                            <div class="dropdown-container">
                                <select id="embeddingsModelSelect" class="model-selector custom-select" onchange="handleEmbeddingsSelection(this)">
                                    <option value="text-embedding-3-small">text-embedding-3-small</option>
                                    <option value="text-embedding-3-large">text-embedding-3-large</option>
                                    <option value="text-embedding-ada-002">text-embedding-ada-002</option>
                                    <option value="local-embeddings">Local Embeddings</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <!-- Hide the original local embeddings checkbox -->
                        <input type="checkbox" id="local-embeddings-checkbox" style="display: none;">
                        <label for="local-embeddings-checkbox" style="display: none;">: Local Embeddings</label>
                        <label for="inputKeyExtract">Key:</label><br>
                        <input type="text" id="inputKeyExtract" name="inputKeyExtract" title="Set Title of Document"><br>
                        <label for="inputTextExtract">Text:</label><br>
                        <textarea id="inputTextExtract" rows="10" cols="50" class="zettelkasten" title="Plain Text of Document"></textarea><br>
                        <div class="button-container">
                            <button id="chunkAndStoreButton" class="linkbuttons" title="Send Text to Embeddings Database">Store Text</button>
                            <button onclick="deleteSelectedKeys()" class="linkbuttons" title="Delete Document from Embeddings Database">Delete Key(scale)</button>
                        </div>
                        <div id="key-list" class="scrollable-list" title="Embedded Documents">
                            <!-- Stored keys will be dynamically added here -->
                        </div>
                        <!--<input type="file" id="fileInput" />
                <button id="fileUploadButton" onclick="promptForFileUpload()">Upload Files</button>-->
                        <br />
                        <div class="settingsSlider centered" style="margin-bottom: 10px;" title="Number of Embedded Document Snippets to Retrieve for AI Response">
                            <label for="topN">Top <span id="topNValue">5</span> Webpage Excerpts</label>
                            <input type="range" id="topNSlider" name="topN" min="1" max="100" value="5">
                        </div>
                        <div class="gridLayout">

                            <div class="settingsSlider" title="Size of Document Snippets (Set Before Embedding">
                                <label for="maxChunkSizeSlider">Chunk Size: <br /><span id="maxChunkSizeValue"></span></label>
                                <input type="range" min="1" max="4096" value="1024" class="slider" id="maxChunkSizeSlider">
                            </div>

                            <div class="settingsSlider" title="Overlap Between Document Snippets (Set Before Embedding)">
                                <label for="overlapSizeSlider">Overlap:<br /><span id="overlapSizeDisplay">10</span></label>
                                <input type="range" id="overlapSizeSlider" name="overlapSize" min="1" max="100" value="10">
                            </div>

                        </div>
                    </div>
                </div>


                <div id="tab2" class="tabcontent">
                    <!-- Second tab content here -->
                    <div class="submenu">
                        <div class="settingsSlider centered" style="margin-bottom: 10px;">
                            <label style="white-space: nowrap;">
                                z <sup id="exponent_value" style="color: powderblue">2</sup> + c
                            </label>
                            <input id="exponent" type="range" min="1" max="8" value="2">
                        </div>
                        <div class="settingsSlider centered" style="margin-bottom: 10px;">
                            <div style="display:flex; justify-content: space-between;">
                                <div id="quality_value">Quality</div>
                                <div id="fps">fps:?? (is javascript enabled?)</div>
                            </div>
                            <input id="quality" type="range" min="0" max="100" value="16">
                        </div>
                        <div class="gridLayout">

                            <div class="settingsSlider">
                                <label for="length">Length: <span id="length_value"></span></label>
                                <input id="length" type="range" min="0" max="100" value="50">
                            </div>

                            <div class="settingsSlider">
                                <label for="renderWidthMultSlider">Width: <span id="renderWidthMultValue"></span></label>
                                <input type="range" id="renderWidthMultSlider" min="0" max="12" step="0.001">
                            </div>

                            <div class="settingsSlider">
                                <label for="maxLinesSlider">Max Lines: <span id="maxLinesValue"></span></label>
                                <input type="range"
                                       id="maxLinesSlider"
                                       min="0"
                                       max="2048"
                                       step="1"
                                       title="Set the removal limit for number of lines displayed">
                            </div>

                            <div class="settingsSlider">
                                <label for="regenDebtSlider">Speed: <span id="regenDebtValue"></span></label>
                                <input type="range" id="regenDebtSlider" min="0" max="4" step="0.001">
                            </div>
                            <div class="settingsSlider" title="Set the strength of line generation around your mouse.">
                                <label for="flashlightStrength">Strength: <span id="flashlightStrength_value"></span></label>
                                <input id="flashlightStrength" type="range" min="0" max="1" step="0.001">
                            </div>

                            <div class="settingsSlider" title="Set the radius of line generation around your mouse">
                                <label for="flashlightRadius">Radius: <span id="flashlightRadius_value"></span></label>
                                <input type="range" id="flashlightRadius" min="0" max="1" step="0.001">
                            </div>

                        </div>
                        <div id="colorselection">
                            <div class="color-picker-container">
                                <div class="color-picker-item">
                                    <label for="rColor">R</label>
                                    <input type="color" id="rColor" name="rColor" value="#FF0000">
                                </div>
                                <div class="color-picker-item">
                                    <label for="gColor">G</label>
                                    <input type="color" id="gColor" name="gColor" value="#00FF00">
                                </div>
                                <div class="color-picker-item">
                                    <label for="bColor">B</label>
                                    <input type="color" id="bColor" name="bColor" value="#0000FF">
                                </div>
                                <div class="color-picker-item">
                                    <label for="colorPicker">BG</label>
                                    <input type="color" id="colorPicker" name="colorPicker" value="#000000" style="background:#222226;">
                                </div>
                            </div>
                            <br />
                            <div id="colorsliders">
                                <input type="range" min="0" max="255" id="rSlider" value="0" style="display: none;">
                                <div class="gridLayout">

                                    <div class="settingsSlider">
                                        <label for="cSlider">Brightness<span id="c_value"></span></label>
                                        <input type="range" min="0" max="255" id="cSlider" value="128">
                                    </div>

                                    <div class="settingsSlider">
                                        <label for="sSlider">Saturation<span id="s_value"></span></label>
                                        <input type="range" min="0" max="255" id="sSlider" value="127">
                                    </div>

                                    <div class="settingsSlider">
                                        <label for="outer_opacity">Outer Opacity<span id="outer_opacity_value"></span></label>
                                        <input id="outer_opacity" type="range" min="0" max="100" value="100">
                                    </div>

                                    <div class="settingsSlider">
                                        <label for="inner_opacity">Inner Opacity<span id="inner_opacity_value"></span></label>
                                        <input id="inner_opacity" type="range" min="0" max="100" value="100">
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div id="tab6" class="tabcontent">
                    <div class="submenu">
                        <div id="saved-networks-container" class="scrollable-list"></div>

                        <input id="save-or-load" type="text" placeholder="save data..." style="width: 257px;" />
                        <div class="top-section">
                            <div class="buttons-left">
                                <a id="save-button">Save</a>
                                <a id="load-button">Load</a>
                                <a id="clear-button">Clear</a>
                                <div id="clear-sure" style="display:none">
                                    <a id="clear-unsure-button">no</a>
                                    <a id="clear-sure-button">yes</a>
                                </div>
                            </div>
                            <div id="savedCoordinatesContainerTop" class="saved-coordinates-container"></div>
                        </div>

                        <div id="savedCoordinatesContainer" class="saved-coordinates-container"></div>

                        <div class="bottom-section">
                            <div id="savedCoordinatesContainerBottom" class="saved-coordinates-container"></div>
                            <div class="buttons-right">
                                <a id="saveCoordinatesBtn">Store Coordinates</a>
                                <a id="deleteCoordinatesBtn">Delete Coordinates</a>
                            </div>
                        </div>

                        <div id="coordinates" class="coordinates-container">
                            <div class="coordinate-field">
                                <span>pan</span>
                                <input id="pan" type="text" value="0+0i" style="background:none; border:none;" size="28" />
                            </div>
                            <div class="coordinate-field">
                                <span>zoom</span>
                                <input id="zoom" type="text" value="1" style="background:none; border:none;" size="25" />
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab3" class="tabcontent">
                    <div id="howto" class="howto custom-scrollbar">
                        <table>
                            <tr>
                                <td><strong>AI HOW-TO</strong></td>
                                <td><input type="checkbox" id="instructions-checkbox"><label for="instructions-checkbox">←This checkbox enables the Ai to explain ChrysalIDE</label></td>
                            </tr>
                            <tr>
                                <td><a href="https://github.com/satellitecomponent/ChrysalIDE" id="clickable-link">Github Link</a></td>
                                <td>Visit our Github for extended documentation.</td>
                            </tr>
                            <tr>
                                <td><strong>CLICK AND DRAG</strong></td>
                                <td>Move around the fractal.</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>
                                        SCROLL WHEEL
                                        <br />PINCH on touchpad
                                    </strong>
                                </td>
                                <td>Zoom in/out.</td>
                            </tr>
                            <tr>
                                <td><strong>SHIFT + DOUBLE CLICK</strong></td>
                                <td>Creates a text node</td>
                            </tr>
                            <tr>
                                <td><strong>DOUBLE CLICK</strong></td>
                                <td>'Anchor' a window in place.</td>
                            </tr>
                            <tr>
                                <td><strong>SHIFT (hold)</strong></td>
                                <td>Freeze Windows</td>
                            </tr>
                            <tr>
                                <td><strong>ALT/Option + SCROLL</strong></td>
                                <td>Rotate the view.</td>
                            </tr>
                            <tr>
                                <td><strong>ALT/Option + DRAG</strong></td>
                                <td>Allows drag events to pass through node textareas.</td>
                            </tr>
                            <tr>
                                <td><strong>ALT/Option + DOUBLE CLICK</strong></td>
                                <td>Creates an ai chat node</td>
                            </tr>
                            <tr>
                                <td><strong>SHIFT + SCROLL</strong></td>
                                <td>Resize a window.</td>
                            </tr>
                            <tr>
                                <td><strong>CTRL + CLICK or DRAG</strong></td>
                                <td>Selects multiple nodes. Allows for multiple nodes to be re-scaled</td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Local LLM</strong>
                                </td>
                                <td>In the Ai tab, check Local LLM and select a model. The Ai will download into your browser cache. More info on our <a href="https://github.com/satellitecomponent/ChrysalIDE" target="_blank" id="clickable-link">Github</a> or <a href="https://mlc.ai/web-llm/" target="_blank" id="clickable-link">web-llm</a></td>
                            </tr>
                            <tr>
                                <td>
                                    <strong>Local Embeddings</strong>
                                </td>
                                <td>In the Ai tab, check Local Embeddings. The embeddings model will download into your browser cache.</td>
                            </tr>
                            <tr>
                                <td><strong>LocalHost Servers</strong></td>
                                <td>Wiki, Wolfram, and Webpage Extraction currently require setting up of personal localhosts.<br /> More info on our <a href="https://github.com/satellitecomponent/ChrysalIDE" target="_blank" id="clickable-link">Github</a><br /> The Ai How-To Checkbox at the top of the instructions will allow the ai to explain basic set-up.</td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="checkbox" id="forget-checkbox" name="forget-checkbox">
                                    <label for="forget-checkbox"><strong>:Enable Selective Forgetting </strong></label>
                                </td>
                                <td><input type="checkbox" id="novelty-checkbox"><label for="novelty-checkbox"><strong>: Novelty<br />(Shuffled Wiki Results)</strong></label></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="checkbox" id="use-all-connected-ai-nodes" />
                                    <label for="use-all-connected-ai-nodes"><strong>Send messages between all connected ai nodes.</strong> (rather than the closest connected Ai nodes)</label>
                                </td>
                                <td>
                                    <input type="checkbox" id="ai-nodes-checkbox">
                                    <label for="ai-nodes-checkbox"><strong>: AI Generated AI Nodes <br />(or, Alt + Double Click / type LLM:)</strong></label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="text" id="node-tag" class="tags" value="##" style="width:80px;" />
                                    <label for="node-tag">Node Tag</label>
                                </td>
                                <td>
                                    <input type="text" id="ref-tag" class="tags" value="[[" style="width:80px;" />
                                    <label for="ref-tag">Reference Tag</label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button id="clearLocalStorage" class="key-button">Clear Local Storage</button>
                                </td>
                                <td>
                                    <button id="screenshotButton" class="key-button">Screenshot</button>
                                    <button id="recordButton" class="key-button">Record</button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>


            </div>
        </div>
    </div>
    <a id="nodes">
        <!--         Save-Data .txt              -->
    </a>
    <!--iframe id="inlineFrameExample"
            title="Inline Frame Example"
            width="150"
            height="100"
            src="https://m.media-amazon.com/images/M/MV5BOTY2NDY4OGUtYWE0Ni00NWZiLWI3NDktYmE2YWM3Njc3YmRkXkEyXkFqcGdeQXVyMTIxOTU1MjQ3._V1_.jpg">
    </iframe>

    <iframe id="inlineFrameExample"
            title="Inline Frame Example"
            width="768"
            height="512"
            src="https://xkcd.com">
    </iframe>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="red"/></svg>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="orange"/></svg>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="yellow"/></svg>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="green"/></svg>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="blue"/></svg>
    <svg width="20" height="20"><circle cx="10" cy="10" r="10" fill="purple"/></svg>


    </a-->
    <div id="elements" class="windowbuttons" style="display:none; visibility:hidden;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 2.125" height="16pt">
            <g id="button-delete" transform="scale(0.125 0.125) translate(1 1)">
                <rect x="0" y="0" width="16" height="16" fill="RGB(100,100,100)" stroke="none" />
                <path d="M 1,1 l 3,0 4,4 4,-4 3,0
 0,3 -4,4 4,4 0,3
 -3,0 -4,-4 -4,4 -3,0
 0,-3 4,-4 -4,-4 0,-3 z" fill="RGB(170,170,170)" stroke="none" />
                <rect x="0" y="0" width="16" height="16" fill="transparent" stroke="none" />
            </g>

            <g id="button-fullscreen" transform="scale(0.125 0.125) translate(21 1)">
                <rect x="0" y="0" width="16" height="16" fill="RGB(100,100,100)" stroke="none" />
                <path d="M  1, 1 l 3,0 1.5,1.5 -3,0 0,3 -1.5,-1.5 0,-3 z
 M 15, 1 l -3,0 -1.5,1.5 3,0 0,3 1.5,-1.5 0,-3 z
 M 15,15 l -3,0 -1.5,-1.5 3,0 0,-3 1.5,1.5 0,3 z
 M  1,15 l 3,0 1.5,-1.5 -3,0 0,-3 -1.5,1.5 0,3 z
 M  4, 4 l 2,0 1,1 -2,0 0,2 -1,-1 0,-2 z
 M 12, 4 l -2,0 -1,1 2,0 0,2 1,-1 0,-2 z
 M 12,12 l -2,0 -1,-1 2,0 0,-2 1,1 0,2 z
 M  4,12 l 2,0 1,-1 -2,0 0,-2 -1,1 0,2 z
 " fill="RGB(170,170,170)" stroke="none" />
                <rect x="0" y="0" width="16" height="16" fill="transparent" stroke="none" />
            </g>

            <g id="button-collapse" transform="scale(0.125 0.125) translate(41 1)">
                <rect x="0" y="0" width="16" height="16" fill="RGB(100,100,100)" stroke="none" />
                <circle cx="8" cy="8" r="5.375" stroke="RGB(170,170,170)" stroke-width="2.75" fill="none" />
                <rect x="0" y="0" width="16" height="16" fill="transparent" stroke="none" />
            </g>

            <g id="button-settings"  transform="scale(0.125 0.125) translate(61 1)">
                <rect x="0" y="0" width="16" height="16" fill="RGB(100,100,100)" stroke="none" />
                <path id="gearPath" fill="RGB(170,170,170)"  d="M 14 8L 15 8L 13.908846518073247 9.041889066001582L 13.63815572471545 10.052120859954012L 14.062177826491071 11.5L 11.5 14.06217782649107L 10.052120859954012 13.63815572471545L 9.041889066001582 13.908846518073247L 8 15L 4.500000000000002 14.062177826491071L 4.143274341880765 12.59626665871387L 3.4037333412861326 11.856725658119236L 1.9378221735089305 11.500000000000002L 1 8L 2.091153481926751 6.9581109339984195L 2.3618442752845494 5.947879140045988L 1.9378221735089287 4.500000000000002L 4.4999999999999964 1.9378221735089314L 5.947879140045984 2.3618442752845503L 6.958110933998418 2.091153481926752L 7.999999999999999 1L 11.499999999999996 1.937822173508927L 11.856725658119231 3.403733341286128L 12.596266658713866 4.143274341880763L 14.06217782649107 4.4999999999999964L 15 7.999999999999998L 13.908846518073249 9.04188906600158ZM 8 8 m -1.5 0 a 1.5 1.5 0 1 0 3 0 a 1.5 1.5 0 1 0 -3 0"></path>
                <rect x="0" y="0" width="16" height="16" fill="transparent" stroke="none" />
            </g>

            <g id="button-file" transform="scale(0.125 0.125) translate(81 1)">
                <rect x="0" y="0" width="16" height="16" fill="RGB(100,100,100)" stroke="none"></rect>
                <path transform="scale(0.8 0.8) translate(2 0)" fill="RGB(170,170,170)" d="M 16 18 L 15.955 5.67 L 10.833 5.636 L 10.833 0.036 L 2 0 C 0.895 0 0 0.895 0 2 L 0 18 C 0 19.105 0.895 20 2 20 L 14 20 C 15.104 20 16 19.105 16 18 Z M 15.933 4.636 L 11.833 0.036 L 11.833 4.636 L 15.933 4.636 Z"></path>
                <rect x="0" y="0" width="16" height="16" fill="transparent" stroke="none"></rect>
            </g>
        </svg>
    </div>

    <!--icon svgs -->

    <svg style="display: none;">
        <symbol id="note-icon-symbol" viewBox="0 0 20 20">
            <path stroke="#686868" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.7" d="M15 17v1a.97.97 0 0 1-.933 1H1.933A.97.97 0 0 1 1 18V5.828a2 2 0 0 1 .586-1.414l2.828-2.828A2 2 0 0 1 5.828 1h8.239A.97.97 0 0 1 15 2M6 1v4a1 1 0 0 1-1 1H1m13.14.772 2.745 2.746M18.1 5.612a2.086 2.086 0 0 1 0 2.953l-6.65 6.646-3.693.739.739-3.692 6.646-6.646a2.087 2.087 0 0 1 2.958 0Z" />
        </symbol>

        <symbol id="ai-icon-symbol" viewBox="0 0 20 18">
            <path stroke="#686868" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.7" d="M4.109 17H1v-2a4 4 0 0 1 4-4h.87M10 4.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm7.95 2.55a2 2 0 0 1 0 2.829l-6.364 6.364-3.536.707.707-3.536 6.364-6.364a2 2 0 0 1 2.829 0Z" />
        </symbol>

        <symbol id="link-icon-symbol" viewBox="0 0 19 19">
            <path stroke="#686868" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.7" d="M11.013 7.962a3.519 3.519 0 0 0-4.975 0l-3.554 3.554a3.518 3.518 0 0 0 4.975 4.975l.461-.46m-.461-4.515a3.518 3.518 0 0 0 4.975 0l3.553-3.554a3.518 3.518 0 0 0-4.974-4.975L10.3 3.7" />
        </symbol>

        <symbol id="code-icon-symbol" viewBox="0 0 20 16">
            <path stroke="#686868" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.8" d="M5 4 1 8l4 4m10-8 4 4-4 4M11 1 9 15" />
        </symbol>

        <symbol id="edges-icon-symbol" viewBox="0 0 18 18">
            <path stroke="#686868" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.7" d="m5.953 7.467 6.094-2.612m.096 8.114L5.857 9.676m.305-1.192a2.581 2.581 0 1 1-5.162 0 2.581 2.581 0 0 1 5.162 0ZM17 3.84a2.581 2.581 0 1 1-5.162 0 2.581 2.581 0 0 1 5.162 0Zm0 10.322a2.581 2.581 0 1 1-5.162 0 2.581 2.581 0 0 1 5.162 0Z" />
        </symbol>
    </svg>

    <svg style="display:none;">
        <defs>
            <symbol id="play-icon" viewBox="0 0 24 24">
                <svg class="w-[25px] h-[25px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16">
                    <path stroke="#686868" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.9" d="M11 1v14m-8.336-.479 6.5-5.774a1 1 0 0 0 0-1.494l-6.5-5.774A1 1 0 0 0 1 2.227v11.546a1 1 0 0 0 1.664.748Z" />
                </svg>
            </symbol>
            <symbol id="refresh-icon" viewBox="0 0 24 24">
                <svg class="w-[42px] h-[42px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                    <path id="refresh-icon-path" stroke="#686868" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.9" d="M16 1v5h-5M2 19v-5h5m10-4a8 8 0 0 1-14.947 3.97M1 10a8 8 0 0 1 14.947-3.97" />
                </svg>
            </symbol>
            <symbol id="pause-icon" viewBox="0 0 24 24">
                <svg class="w-[25px] h-[25px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 18">
                    <path stroke="#686868" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.9" d="M1 1.8c0-.442.32-.8.714-.8h1.429c.394 0 .714.358.714.8v14.4c0 .442-.32.8-.714.8H1.714a.678.678 0 0 1-.505-.234A.851.851 0 0 1 1 16.2V1.8Zm7.143 0c0-.442.32-.8.714-.8h1.429c.19 0 .37.084.505.234.134.15.209.354.209.566v14.4c0 .442-.32.8-.714.8H8.857c-.394 0-.714-.358-.714-.8V1.8Z" clip-rule="evenodd" />
                </svg>
            </symbol>
            <symbol id="function-button" viewBox="0 0 24 24">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 12">
                    <path stroke="#686868" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.9" d="M9 5 5 1 1 5m8 6L5 7l-4 4" />
                </svg>
            </symbol>
        </defs>
    </svg>

    <svg id="download-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <path d="M7,10 L12,15 L17,10" fill="none" stroke="currentColor" stroke-width="2"></path>
        <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"></line>
        <line x1="4" y1="18" x2="20" y2="18" stroke="currentColor" stroke-width="2"></line>
    </svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#686868" class="bi bi-sliders2" viewBox="0 0 16 16" display="none">
        <path fill-rule="evenodd" d="M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5ZM12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5ZM1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8Zm9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5Zm1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z" />
    </svg>


    <svg id="aiNodeSettingsIcon" display="none" class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
        <path stroke="#686868" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M7.75 4H19M7.75 4a2.25 2.25 0 0 1-4.5 0m4.5 0a2.25 2.25 0 0 0-4.5 0M1 4h2.25m13.5 6H19m-2.25 0a2.25 2.25 0 0 1-4.5 0m4.5 0a2.25 2.25 0 0 0-4.5 0M1 10h11.25m-4.5 6H19M7.75 16a2.25 2.25 0 0 1-4.5 0m4.5 0a2.25 2.25 0 0 0-4.5 0M1 16h2.25" />
    </svg>


    <svg id="funcErrorIcon" width="20" height="20" style="display: none;" class="w-[24px] h-[24px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
    </svg>

    <svg id="folderIcon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" class="folder-icon"  viewBox="0 0 20 20" style="display: none;">
        <path fill="#686868" d="M 18 2 L 9.992 2 L 7.992 0 L 2 0 C 0.896 0 0 0.896 0 2 L 0 18 C 0 19.104 0.896 20 2 20 L 18 20 C 19.104 20 20 19.104 20 18 L 20 4 C 20 2.896 19.104 2 18 2 Z M 2 18 L 1.992 6 L 17.992 6 L 18 18 L 2 18 Z" transform="matrix(0.9999999999999999, 0, 0, 0.9999999999999999, -5.684341886080802e-14, 0)"/>
    </svg>

    <svg id="fileIcon" width="16" height="16" viewBox="0 0 24 24" fill="#686868"  class="file-icon" style="display: none;">
<!--        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM8 14v-4h8v4zM10 8h4v6h-4z"/>-->
        <path d="M 16 18 L 15.955 5.67 L 10.833 5.636 L 10.833 0.036 L 2 0 C 0.895 0 0 0.895 0 2 L 0 18 C 0 19.105 0.895 20 2 20 L 14 20 C 15.104 20 16 19.105 16 18 Z M 15.933 4.636 L 11.833 0.036 L 11.833 4.636 L 15.933 4.636 Z" transform="matrix(1, 0, 0, 1, 0, 3.552713678800501e-15)"/>
    </svg>


    <!--<script>
        window.onload = function () {
            var input = document.createElement("input");
            input.type = "file";
            if ('webkitdirectory' in input) {
                // If the browser supports directory selection, add the webkitdirectory attribute
                input.setAttribute('webkitdirectory', '');
                input.setAttribute('multiple', '');
            }
            input.id = "fileInput";
            // Append the input field to the body (or any other container you prefer)
            document.body.appendChild(input);
        }
    </script>-->

<!--    <script src="js/http/client.js"></script>-->

    <script src="js/external/tree-sitter.js"></script>

    <script src="js/globals.js"></script>

    <script src="js/filesystem/filemanagerapi.js"></script>
    <script src="js/filesystem/browserified_path.js"></script>

    <script src="js/dropdown/savenet.js"></script>
    <script src="js/dropdown/dropdown_v2_0_1.js"></script>
    <script src="js/dropdown/displaysavedcoords.js"></script>


    <script src="js/zettelkasten/zetcodemirror.js"></script>
    <script src="js/zettelkasten/zettelkasten_v2.js"></script>





    <script src="js/mandelbrot/mandelbrot_v1_0_1.js"></script>

    <script defer type="module" src="/embeddings.js"></script>

    <script src="js/nodes/nodemode.js"></script>
    <script src="js/nodes/movenodes.js"></script>

    <script src="js/nodes/node.js"></script>
    <script src="js/nodes/edge.js"></script>
    <script src="js/interface/interface_v2.js"></script>
    <script src="js/nodes/diagram.js"></script>

    <script src="js/external/tree.min.js"></script>
    <script src="js/interface/fsTree.js"></script>


    <script src="js/interface/window.js"></script>
    <script src="js/interface/uinodes.js"></script>

    <script src="js/nodes/connect.js"></script>
    <script src="js/interface/search.js"></script>

    <script src="js/nodes/togglenodestate.js"></script>

    <script src="js/interface/bundlecode.js"></script>
    <script src="js/interface/handledrop.js"></script>


    <script src="js/nodes/definitions/languages/editornode.js"></script>

    <script type="module" src="/webllm/webllm_v1_0_2.ts" defer></script>

    <script src="js/ai/prompts.js"></script>

    <script src="js/nodes/definitions/llm/chat/ainodes_v2.js"></script>
    <script src="js/nodes/ainodes/ainodemessage.js"></script>

    <script src="js/ai/ai_v2.js"></script>
    <script src="js/ai/aimessage.js"></script>
    <script src="js/ai/aihelpers.js"></script>
    <script src="js/ai/vision.js"></script>

    <!--<script src="js/aicursor.js"></script>-->

    <script src="js/searchapi/searchapi_v2.js"></script>
    <script src="js/searchapi/filternodes.js"></script>
    <script src="js/searchapi/wikipedia.js"></script>
    <script src="js/searchapi/embeddingsdb.js"></script>
    <script src="js/searchapi/codeparser/parsemirror.js"></script>
    <script src="js/searchapi/codeparser/gitparsed.js"></script>
    <script src="js/searchapi/wolframapi.js"></script>

    <script src="js/nodes/createnodes/createnodes_v2.js"></script>

    <!--    Node definitions -->
    <script src="js/nodes/definitions/languages/code.js"></script>
    <script src="js/nodes/definitions/languages/javascript.js"></script>
    <script src="js/nodes/definitions/languages/meta.js"></script>
    <script src="js/nodes/definitions/media/image.js"></script>
    <script src="js/nodes/definitions/media/audio.js"></script>
    <script src="js/nodes/definitions/media/video.js"></script>
    <script src="js/nodes/definitions/workspace/explorer.js"></script>
    <script src="js/nodes/definitions/text.js"></script>
    <script src="js/nodes/definitions/link.js"></script>
    <script src="js/nodes/definitions/llm/llmagent.js"></script>
    <script src="js/nodes/definitions/llm/llm.js"></script>
    <script src="js/nodes/definitions/llm/llm_old.js"></script>
    <script src="js/nodes/definitions/wolfram.js"></script>
    <script src="js/nodes/definition.js"></script>

    <script src="js/nodes/createnodes/contenteditable.js"></script>

    <script src="js/record/record_v1.js"></script>
    <script src="js/neuralapi.js"></script>


    <script src="js/functioncall/functioncallingpanel.js"></script>
    <script src="js/functioncall/neuraltelemetryprompt.js"></script>
    <script src="js/functioncall/requestfunctioncall.js"></script>

    <script src="js/startup.js"></script>

</body>

                </html>
